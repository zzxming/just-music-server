import{d as p,w as l,Q as c,b as _,c as i,I as y,f as d,n as E,_ as F,r as o,F as x,e as g}from"./index.93b487f7.js";const B=p({__name:"index",props:{isError:{type:Boolean},style:null,requestFunc:null},setup(e){return(f,n)=>l((_(),i("div",{class:"error",style:E(e.style)},[y(" \u7F51\u7EDC\u9519\u8BEF, \u70B9\u51FB"),d("span",{class:"error_retry",onClick:n[0]||(n[0]=(...u)=>e.requestFunc&&e.requestFunc(...u))},"\u91CD\u8BD5")],4)),[[c,e.isError]])}});const D=F(B,[["__scopeId","data-v-6ae6f1db"]]),k={key:0,class:"load-nomore"},C=p({__name:"index",props:{requestFunc:null},setup(e,{expose:f}){const n=e,u=o(),r=o(!0),a=o(!1),s=o(!1);f({loadMore:u,loadFunc:v});async function v(){if(!r.value)return 0;s.value=!1,a.value=!0;let t=await n.requestFunc();return a.value=!1,t===-1?s.value=!0:t===0?r.value=!1:(r.value=!0,s.value=!1),t}return(t,q)=>{const m=D;return _(),i("div",{class:"load-more",ref_key:"loadMore",ref:u},[r.value?(_(),i(x,{key:1},[l(d("div",null,[l(d("span",null,"\u52A0\u8F7D\u4E2D...",512),[[c,a.value]]),l(d("span",{class:"load-btn",onClick:v},"\u52A0\u8F7D\u66F4\u591A",512),[[c,!a.value]])],512),[[c,!s.value]]),g(m,{isError:!a.value&&s.value,requestFunc:v},null,8,["isError"])],64)):(_(),i("div",k,"\u5DF2\u7ECF\u6CA1\u6709\u66F4\u591A\u4E86"))],512)}}});const b=F(C,[["__scopeId","data-v-f70cd3a7"]]);export{D as _,b as a};
