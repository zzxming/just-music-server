import{i as T,j as b,m as w,d as $,k as G,l as x,p as M,q as I,s as Q,b as m,x as B,g as v,h as O,y as N,z as u,n as P,A as R,B as D,C as V,D as X,c as h,f as g,r as C,u as Y,G as U,e as _,F,H as W,I as Z,t as k,J as tt,P as z,K as et,L as st,E as ot,_ as q,a as nt,o as at,M as lt,N as it,O as rt,w as S,Q as ct,R as ut,v as pt}from"./index.93b487f7.js";import{_ as _t,a as dt}from"./index.6754e4d5.js";const A=Symbol("rowContextKey"),ft=T({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:b([Number,Object]),default:()=>w({})},sm:{type:b([Number,Object]),default:()=>w({})},md:{type:b([Number,Object]),default:()=>w({})},lg:{type:b([Number,Object]),default:()=>w({})},xl:{type:b([Number,Object]),default:()=>w({})}}),mt=$({name:"ElCol"}),yt=$({...mt,props:ft,setup(i){const s=i,{gutter:n}=G(A,{gutter:x(()=>0)}),a=M("col"),r=x(()=>{const o={};return n.value&&(o.paddingLeft=o.paddingRight=`${n.value/2}px`),o}),l=x(()=>{const o=[];return["span","offset","pull","push"].forEach(e=>{const c=s[e];I(c)&&(e==="span"?o.push(a.b(`${s[e]}`)):c>0&&o.push(a.b(`${e}-${s[e]}`)))}),["xs","sm","md","lg","xl"].forEach(e=>{I(s[e])?o.push(a.b(`${e}-${s[e]}`)):Q(s[e])&&Object.entries(s[e]).forEach(([c,t])=>{o.push(c!=="span"?a.b(`${e}-${c}-${t}`):a.b(`${e}-${t}`))})}),n.value&&o.push(a.is("guttered")),o});return(o,y)=>(m(),B(R(o.tag),{class:N([u(a).b(),u(l)]),style:P(u(r))},{default:v(()=>[O(o.$slots,"default")]),_:3},8,["class","style"]))}});var gt=D(yt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/col/src/col.vue"]]);const vt=V(gt),ht=["start","center","end","space-around","space-between","space-evenly"],$t=["top","middle","bottom"],bt=T({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:ht,default:"start"},align:{type:String,values:$t,default:"top"}}),wt=$({name:"ElRow"}),xt=$({...wt,props:bt,setup(i){const s=i,n=M("row"),a=x(()=>s.gutter);X(A,{gutter:a});const r=x(()=>{const l={};return s.gutter&&(l.marginRight=l.marginLeft=`-${s.gutter/2}px`),l});return(l,o)=>(m(),B(R(l.tag),{class:N([u(n).b(),u(n).is(`justify-${s.justify}`,l.justify!=="start"),u(n).is(`align-${s.align}`,l.align!=="top")]),style:P(u(r))},{default:v(()=>[O(l.$slots,"default")]),_:3},8,["class","style"]))}});var Ct=D(xt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/row/src/row.vue"]]);const Lt=V(Ct);const Et={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Nt=g("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"},null,-1),Pt=[Nt];function jt(i,s){return m(),h("svg",Et,Pt)}const It={name:"ep-caret-right",render:jt},kt={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},St=g("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896a448 448 0 0 1 0-896zm0 832a384 384 0 0 0 0-768a384 384 0 0 0 0 768zm-48-247.616L668.608 512L464 375.616v272.768zm10.624-342.656l249.472 166.336a48 48 0 0 1 0 79.872L474.624 718.272A48 48 0 0 1 400 678.336V345.6a48 48 0 0 1 74.624-39.936z"},null,-1),Tt=[St];function Mt(i,s){return m(),h("svg",kt,Tt)}const Bt={name:"ep-video-play",render:Mt},Ot=["onClick","onContextmenu"],Rt={class:"playlist_list_item-cover"},Dt={key:0,class:"playlist_list_item-playcount"},Vt=["src"],Ft={class:"playlist_list_item-title"},zt=$({__name:"index",props:{isTopList:{type:Boolean},playlist:null,playCountVisible:{type:Boolean,default:!0}},setup(i){const{isTopList:s,playlist:n}=i,a=C("/api/imgs/music.jpg"),r=Y(),l=U(),{setPopoutState:o}=l;function y(t){return t>1e8?`${Math.floor(t/1e8)}\u4EBF`:t>1e4?`${Math.floor(t/1e4)}\u4E07`:`${t}`}function p(t,d){r.push(`/playlist/detail?id=${t}&t=${d}`)}function e(t){t.target.src=a.value}function c(t,d){t.preventDefault(),o({popoutVisible:!0,popoutPosition:{left:t.pageX,top:t.pageY},popoutHoldData:d,popoutIsMusic:!1,popoutCanDelete:!1})}return(t,d)=>{const L=Bt,j=ot,K=It,H=vt,J=Lt;return m(),h("ul",{class:"playlist_list",style:P({height:n.length<1?"200px":"auto"})},[_(J,{gutter:20,class:N(`playlist_list_row ${s?"toplist":""}`)},{default:v(()=>[(m(),h(F,null,W(n,f=>_(H,{class:"playlist_list_wrap"},{default:v(()=>[g("div",{class:"playlist_list_item",onClick:E=>p(f.id,f.type),onContextmenu:E=>c(E,f)},[g("div",Rt,[_(j,{class:"playlist_list_item-icon play"},{default:v(()=>[_(L)]),_:1}),i.playCountVisible?(m(),h("span",Dt,[_(j,{class:"playlist_list_item-icon allow-right"},{default:v(()=>[_(K)]),_:1}),Z(" "+k(y(f.playCount)),1)])):tt("",!0),g("img",{class:"playlist_list_item-img",src:f.type===u(z).local?u(et)(f.cover):f.cover,onError:d[0]||(d[0]=E=>u(st.exports.throttle)(e,3e3))},null,40,Vt)]),g("div",Ft,k(f.title),1)],40,Ot)]),_:2},1024)),64))]),_:1},8,["class"])],4)}}});const qt=q(zt,[["__scopeId","data-v-49a03d81"]]),At={class:"playlist"},Kt=$({__name:"index",props:{isTopList:{type:Boolean,default:!1,required:!1}},setup(i){const{isTopList:s}=i,n=C(),a=C(!1),r=C(!0),l=nt([]);at(()=>{y()}),lt(r,p=>{p||ut(()=>o())});function o(){if(!n.value)return;new IntersectionObserver(function(e){e[0].isIntersecting&&n.value&&n.value.loadFunc()},{rootMargin:"0px 0px 200px 0px"}).observe(n.value.loadMore)}async function y(){a.value=!1;let[p,e]=await it({limit:s?20:10});if(!p&&e){const{code:c,data:t}=e.data;return l.push(...rt(t,z.cloud)),r.value=!1,t.length}return p&&(a.value=!0),-1}return(p,e)=>{const c=qt,t=_t,d=dt,L=pt;return m(),h(F,null,[g("div",At,[S(_(c,{isTopList:i.isTopList,playlist:l},null,8,["isTopList","playlist"]),[[L,r.value&&!a.value]]),_(t,{isError:r.value&&a.value,requestFunc:y},null,8,["isError"])]),S(_(d,{ref_key:"loadMore",ref:n,requestFunc:y},null,512),[[ct,i.isTopList&&!r.value]])],64)}}});const Gt=q(Kt,[["__scopeId","data-v-d1677e7c"]]);export{qt as _,Gt as a};
