import{d as R,D as W,E as z,G as H,h as q,g as _,s as G,y as E,o as p,c as v,a as s,t as n,k as h,j as f,b as y,w as S,H as J,I as C,J as K,e as O,B as F,m as Q,K as m,L as X,M as Y,N as $,O as k,Q as x,R as U,_ as Z}from"./index.d3614d96.js";import{S as ee,s as se,g as ae}from"./index.2db69e03.js";const g=o=>(Y("data-v-d3a06458"),o=o(),$(),o),te={class:"player"},oe={key:0,class:"player_info"},le={class:"player_header"},ie={class:"player_title"},ne=["title"],ue={class:"player_cover"},ce={class:"player_song_info"},de={class:"player_title"},re={class:"player_info_label"},_e={class:"player_origin"},pe=g(()=>s("span",{class:"player_info_label"},"\u6765\u6E90\uFF1A",-1)),ve={class:"player_singer"},fe=g(()=>s("span",{class:"player_info_label"},"\u6B4C\u624B\uFF1A",-1)),ye={class:"player_ablum"},me=g(()=>s("span",{class:"player_info_label"},"\u4E13\u8F91\uFF1A",-1)),he={key:0,class:"player_control"},ge={key:1,class:"player_list"},be=g(()=>s("div",{class:"player_other"},null,-1)),Ie=R({__name:"index",props:{id:null,t:null},setup(o){const t=o,D=W(),{audio:A}=z(D),{setAudioInfo:B}=D,M=H(),{playinglistReplace:N}=M,j=q(),e=_(),c=_(),d=_(!1),b=_(!1),w=_({left:0,top:0});G([()=>t.id,()=>t.t],()=>{c.value=void 0,e.value=void 0,T()},{immediate:!0});function P(){A.value&&e.value&&(B(e.value),N([e.value]))}async function T(){if(t.t===m.bili){d.value=!0;let[a,u]=await se(String(t.id));if(d.value=!1,!a&&u){let I=u.data.data,i=k(I,t.t);e.value=i[0],c.value=i}else x({type:"error",message:a==null?void 0:a.message});return}d.value=!0;let[l,r]=t.t===m.cloud?await U({ids:Number(t.id)}):await ae({id:Number(t.id)});if(d.value=!1,!l&&r){let a=r.data.data,u=k(a,t.t);e.value=u}else x({type:"error",message:l==null?void 0:l.message})}function V(l){if(!e.value)return;const{pageX:r,pageY:a}=l;b.value=!0,w.value={left:r,top:a},j.popoutHoldData=e.value}function L(){b.value=!1}return(l,r)=>{const a=O("el-button"),u=F("lazy"),I=F("loading");return E((p(),v("div",te,[e.value?(p(),v("div",oe,[s("div",le,[s("div",ie,n(e.value.title),1),s("div",{class:"player_singer",title:e.value.singers.map(i=>i.name).join(" / ")},n(e.value.singers.map(i=>i.name).join(" / ")),9,ne)]),s("div",ue,[E((p(),v("img",{key:e.value.cover,alt:"\u6B4C\u66F2\u5C01\u9762"})),[[u,h(Q)(e.value.cover)]])]),s("div",ce,[s("div",de,n(e.value.title),1),s("span",re,n(e.value.publishTime===0?"":new Date(e.value.publishTime).toLocaleDateString().split("/").join("-")),1),s("div",_e,[pe,f(" "+n(o.t===h(m).bili?"\u54D4\u54E9\u54D4\u54E9":o.t===h(m).cloud?"\u7F51\u6613\u4E91\u97F3\u4E50":o.t===h(m).local&&e.value.id?"just\u97F3\u4E50":"\u672A\u77E5"),1)]),s("div",ve,[fe,f(" "+n(e.value.singers.map(i=>i.name).join(" / ")),1)]),s("div",ye,[me,f(" "+n(e.value.album),1)]),c.value?C("",!0):(p(),v("div",he,[y(a,{class:"player_control_btn full",color:"#f56c6c",onClick:P},{default:S(()=>[f("\u64AD\u653E")]),_:1}),y(a,{class:"player_control_btn",color:"#f56c6c",plain:"",onClick:J(V,["stop"])},{default:S(()=>[f("\u6536\u85CF")]),_:1},8,["onClick"])]))])])):C("",!0),c.value?(p(),v("div",ge,[y(ee,{songs:c.value},null,8,["songs"])])):C("",!0),be,y(K,{show:b.value,position:w.value,onClose:L},{default:S(()=>[y(X)]),_:1},8,["show","position"])])),[[I,d.value]])}}});const De=Z(Ie,[["__scopeId","data-v-d3a06458"]]);export{De as default};
