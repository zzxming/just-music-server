import{d as T,z as d,ae as I,H as E,I as M,J as N,O as w,af as F,ag as q,P as A,o as r,c as m,a as p,M as x,b as f,N as D,F as b,Q as O,_ as k,h as $,t as L,p as g,B as H,e as C,u as V,n as z,a7 as Q}from"./index.98887901.js";import{_ as R,a as S}from"./index.83f909f4.js";import{a as j,_ as J}from"./index.047610f0.js";const G={class:"playlist"},K=T({__name:"index",props:{isTopList:{type:Boolean,default:!1,required:!1}},setup(t){const{isTopList:y}=t,e=d(),s=d(!1),a=d(!0),l=d(0),c=d(I.All),o=E([]);M(()=>{i()}),N(a,n=>{n||w(()=>v())});function v(){if(!e.value)return;new IntersectionObserver(function(_){_[0].isIntersecting&&e.value&&e.value.loadFunc()},{rootMargin:"0px 0px 200px 0px"}).observe(e.value.loadMore)}async function i(){s.value=!1;let[n,_]=await F({before:l.value,cat:c.value,limit:y?20:10});if(!n&&_){const{code:h,data:u}=_.data;return o.push(...q(u.playlist,A.cloud)),l.value=u.lasttime,a.value=!1,u.more?u.playlist.length:0}return n&&(s.value=!0),-1}return(n,_)=>{const h=j,u=R,B=S,P=O;return r(),m(b,null,[p("div",G,[x(f(h,{isTopList:t.isTopList,playlist:o},null,8,["isTopList","playlist"]),[[P,a.value&&!s.value]]),f(u,{isError:a.value&&s.value,requestFunc:i},null,8,["isError"])]),x(f(B,{ref_key:"loadMore",ref:e,requestFunc:i},null,512),[[D,t.isTopList&&!a.value]])],64)}}});const U=k(K,[["__scopeId","data-v-795b1953"]]),W={class:"playlist_wrapper"},X={class:"playlist_title"},Y={class:"playlist_title_tag-cur"},Z={class:"playlist_title_tag"},tt=["onClick"],et={key:2,class:"playlist_content-error"},st=T({__name:"index",props:{id:null},setup(t){const{id:y}=t,e=V(),s=[{id:1,title:"\u63A8\u8350\u6B4C\u5355"},{id:2,title:"\u7CBE\u54C1\u6B4C\u5355"}],a=$(()=>{var l,c;return(c=(l=s.find(o=>o.id===Number(y)))==null?void 0:l.title)!=null?c:""});return(l,c)=>{const o=J,v=U;return r(),m("div",W,[p("div",X,[p("div",Y,L(g(a)),1),p("ul",Z,[(r(),m(b,null,H(s,i=>p("li",{class:z(`playlist_title_tag-item ${i.id===Number(t.id)?"active":""}`),onClick:()=>g(e).replace(g(Q)("/playlist",{id:i.id}))},L(i.title),11,tt)),64))])]),Number(t.id)===1?(r(),C(o,{key:0,isTopList:!0})):Number(t.id)===2?(r(),C(v,{key:1,isTopList:!0})):(r(),m("div",et," \u6CA1\u6709\u8FD9\u4E2A\u5206\u7C7B "))])}}});const ot=k(st,[["__scopeId","data-v-74568060"]]);export{ot as default};
