import{f as T,g as h,m as $,d as v,i as H,h as b,j as k,k as j,l as J,o as m,e as P,w as g,r as M,n as N,p as c,q as O,s as B,v as R,x as D,y as G,c as w,a as d,z as C,u as Q,A as X,b as f,F,B as Y,C as U,t as I,P as V,D as W,G as Z,E as tt,_ as z,H as et,I as st,J as ot,K as nt,L as at,M as S,N as lt,O as it,Q as rt}from"./index.98887901.js";import{_ as ct,a as ut}from"./index.83f909f4.js";const q=Symbol("rowContextKey"),pt=T({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:h([Number,Object]),default:()=>$({})},sm:{type:h([Number,Object]),default:()=>$({})},md:{type:h([Number,Object]),default:()=>$({})},lg:{type:h([Number,Object]),default:()=>$({})},xl:{type:h([Number,Object]),default:()=>$({})}}),_t=v({name:"ElCol"}),dt=v({..._t,props:pt,setup(i){const e=i,{gutter:a}=H(q,{gutter:b(()=>0)}),o=k("col"),r=b(()=>{const s={};return a.value&&(s.paddingLeft=s.paddingRight=`${a.value/2}px`),s}),n=b(()=>{const s=[];return["span","offset","pull","push"].forEach(t=>{const l=e[t];j(l)&&(t==="span"?s.push(o.b(`${e[t]}`)):l>0&&s.push(o.b(`${t}-${e[t]}`)))}),["xs","sm","md","lg","xl"].forEach(t=>{j(e[t])?s.push(o.b(`${t}-${e[t]}`)):J(e[t])&&Object.entries(e[t]).forEach(([l,p])=>{s.push(l!=="span"?o.b(`${t}-${l}-${p}`):o.b(`${t}-${p}`))})}),a.value&&s.push(o.is("guttered")),s});return(s,y)=>(m(),P(B(s.tag),{class:N([c(o).b(),c(n)]),style:O(c(r))},{default:g(()=>[M(s.$slots,"default")]),_:3},8,["class","style"]))}});var ft=R(dt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/col/src/col.vue"]]);const mt=D(ft),yt=["start","center","end","space-around","space-between","space-evenly"],gt=["top","middle","bottom"],vt=T({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:yt,default:"start"},align:{type:String,values:gt,default:"top"}}),ht=v({name:"ElRow"}),$t=v({...ht,props:vt,setup(i){const e=i,a=k("row"),o=b(()=>e.gutter);G(q,{gutter:o});const r=b(()=>{const n={};return e.gutter&&(n.marginRight=n.marginLeft=`-${e.gutter/2}px`),n});return(n,s)=>(m(),P(B(n.tag),{class:N([c(a).b(),c(a).is(`justify-${e.justify}`,n.justify!=="start"),c(a).is(`align-${e.align}`,n.align!=="top")]),style:O(c(r))},{default:g(()=>[M(n.$slots,"default")]),_:3},8,["class","style"]))}});var bt=R($t,[["__file","/home/runner/work/element-plus/element-plus/packages/components/row/src/row.vue"]]);const wt=D(bt);const xt={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Ct=d("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"},null,-1),Lt=[Ct];function Et(i,e){return m(),w("svg",xt,Lt)}const Pt={name:"ep-caret-right",render:Et},Nt={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},jt=d("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896a448 448 0 0 1 0-896zm0 832a384 384 0 0 0 0-768a384 384 0 0 0 0 768zm-48-247.616L668.608 512L464 375.616v272.768zm10.624-342.656l249.472 166.336a48 48 0 0 1 0 79.872L474.624 718.272A48 48 0 0 1 400 678.336V345.6a48 48 0 0 1 74.624-39.936z"},null,-1),It=[jt];function St(i,e){return m(),w("svg",Nt,It)}const Tt={name:"ep-video-play",render:St},kt={class:"playlist_list"},Mt=["onClick","onContextmenu"],Ot={class:"playlist_list_item-cover"},Bt={class:"playlist_list_item-playcount"},Rt=["src"],Dt={class:"playlist_list_item-title"},Ft=v({__name:"index",props:{isTopList:{type:Boolean},playlist:null},setup(i){const e=C("/api/imgs/music.jpg"),a=Q(),o=X(),{setPopoutState:r}=o;function n(t){return t>1e8?`${Math.floor(t/1e8)}\u4EBF`:t>1e4?`${Math.floor(t/1e4)}\u4E07`:`${t}`}function s(t,l){a.push(`/playlist/detail?id=${t}&t=${l}`)}function y(t){t.target.src=e.value}function u(t,l){t.preventDefault(),r({popoutVisible:!0,popoutPosition:{left:t.pageX,top:t.pageY},popoutHoldData:l,popoutIsMusic:!1,popoutCanDelete:!1})}return(t,l)=>{const p=Tt,x=tt,L=Pt,A=mt,K=wt;return m(),w("ul",kt,[f(K,{gutter:20,class:N(`playlist_list_row ${i.isTopList?"toplist":""}`)},{default:g(()=>[(m(!0),w(F,null,Y(i.playlist,_=>(m(),P(A,{class:"playlist_list_wrap"},{default:g(()=>[d("div",{class:"playlist_list_item",onClick:E=>s(_.id,_.type),onContextmenu:E=>u(E,_)},[d("div",Ot,[f(x,{class:"playlist_list_item-icon play"},{default:g(()=>[f(p)]),_:1}),d("span",Bt,[f(x,{class:"playlist_list_item-icon allow-right"},{default:g(()=>[f(L)]),_:1}),U(" "+I(n(_.playCount)),1)]),d("img",{class:"playlist_list_item-img",src:_.type===c(V).local?c(W)(_.cover):_.cover,onError:l[0]||(l[0]=E=>c(Z.exports.throttle)(y,3e3))},null,40,Rt)]),d("div",Dt,I(_.title),1)],40,Mt)]),_:2},1024))),256))]),_:1},8,["class"])])}}});const Vt=z(Ft,[["__scopeId","data-v-248786df"]]),zt={class:"playlist"},qt=v({__name:"index",props:{isTopList:{type:Boolean,default:!1,required:!1}},setup(i){const{isTopList:e}=i,a=C(),o=C(!1),r=C(!0),n=et([]);st(()=>{y()}),ot(r,u=>{u||it(()=>s())});function s(){if(!a.value)return;new IntersectionObserver(function(t){t[0].isIntersecting&&a.value&&a.value.loadFunc()},{rootMargin:"0px 0px 200px 0px"}).observe(a.value.loadMore)}async function y(){o.value=!1;let[u,t]=await nt({limit:e?20:10});if(!u&&t){const{code:l,data:p}=t.data;return n.push(...at(p,V.cloud)),r.value=!1,p.length}return u&&(o.value=!0),-1}return(u,t)=>{const l=Vt,p=ct,x=ut,L=rt;return m(),w(F,null,[d("div",zt,[S(f(l,{isTopList:i.isTopList,playlist:n},null,8,["isTopList","playlist"]),[[L,r.value&&!o.value]]),f(p,{isError:r.value&&o.value,requestFunc:y},null,8,["isError"])]),S(f(x,{ref_key:"loadMore",ref:a,requestFunc:y},null,512),[[lt,i.isTopList&&!r.value]])],64)}}});const Ht=z(qt,[["__scopeId","data-v-27b01903"]]);export{Ht as _,Vt as a};
